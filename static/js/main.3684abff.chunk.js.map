{"version":3,"sources":["api/api.js","components/Users/User/User.module.css","components/Users/Paginator/Paginator.module.css","components/Login/Login.module.css","components/Header/Header.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/Forms/Forms.module.css","utilites/validators/validators.js","components/common/Forms/Forms.jsx","Redux/profile-reducer.js","Redux/dialogs-reducer.js","components/Users/Users.module.css","components/common/Preloader/Preloader.module.css","hoc/withAuthRedirect.js","components/Navbar/Navbar.module.css","reportWebVitals.js","components/Music/Music.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/Navbar/Navbar.jsx","utilites/action-helpers.js","Redux/users-reducer.js","logos/Logo_4.png","components/Users/User/User.jsx","assets/images/leftarrow.svg","assets/images/rightarrow1.svg","components/Users/Paginator/Paginator.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","Redux/auth-reducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","Redux/app-reducer.js","Redux/redux-store.js","hoc/withSuspense.js","App.js","index.js"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","pageNumber","pageSize","get","then","response","data","userFollow","userId","post","userUnFollow","delete","profileAPI","setSelectedUser","getStatus","setStatus","status","put","savePhoto","file","formData","FormData","append","authAPI","authMe","login","email","password","rememberMe","logout","module","exports","Preloader","props","className","css","preloader","src","preloaderImg","alt","composeValidators","validators","value","reduce","error","validator","undefined","required","MaxLength","maxLength","length","Element","input","meta","hasError","touched","control","formControl","errorText","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","initialState","posts","id","message","likesCount","profile","addPost","postData","type","setUserStatus","getUserProfile","dispatch","a","getUserStatus","updateUserStatus","resultCode","photos","profileReducer","state","action","SEND_MESSAGE","DELETE_MESSAGE","dialogs","name","messages","newMessageText","sendMessage","dialogsReducer","text","filter","m","messageId","mapStateToProps","isAuth","auth","withRedirect","Component","RedirectComponent","this","to","React","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Music","Settings","News","Navbar","nav","nav__link","activeClassName","active","nav__button","updateObjInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_USER","users","totalItemsCount","currentPage","isFetching","followingUsers","follow","unfollow","setUsers","setCurrentPage","page","setTotalUsersCount","totalCount","toggleIsFetching","toggleFollowingUser","toggleFollowUnfollow","actionCreator","apiMethod","usersReducer","followed","User","user","user__photo","small","defaultPhoto","user__img","user__block","about","about__inner","about__name","about__status","about__location","about__city","about__country","user__follow","disabled","some","onClick","Paginator","onPageChanged","portionSize","pageCount","Math","ceil","totalPages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","console","log","pagination","pag","leftArrow","arrows","p","selected","rightArrow","Users","currentPortion","usersPage","getCurrentPage","getTotalItemsCount","getPageSize","getIsFetching","getFollowingUsers","UsersAPIComponent","getAllUsers","userFollowed","userUnfollowed","compose","bind","SET_USER_AUTH","ERROR","errorMessage","failedAuth","setUserAuth","errors","authUser","authReducer","Header","header","header__inner","Logo","header__logo","header__intro","header__login","HeaderContainer","LoginForm","onSubmit","Input","handleSubmit","submitting","pristine","login__userlogin","login__input","component","placeholder","validate","login__userpass","login__remember","login__btn","LoginContainer","login__header","INITIALIZE_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","UsersContainer","AppContainer","withRouter","promise","Promise","all","AppComponent","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3684abff.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nlet instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"9b316602-a8f1-4f4d-8709-29375184c41c\",\r\n\t},\r\n});\r\n\r\nexport const usersAPI = {\r\n\r\n\tgetUsers(pageNumber, pageSize) {\r\n\t\treturn instance.get(`users?page=${pageNumber}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\r\n\tuserFollow(userId) {\r\n\t\treturn instance.post(`follow/ ${userId}`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\r\n\tuserUnFollow(userId) {\r\n\t\treturn instance.delete(`follow/ ${userId}`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n};\r\n\r\nexport const profileAPI = {\r\n\tsetSelectedUser(userId) {\r\n\t\treturn instance.get(`profile/` + userId)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\r\n\tsetStatus(status) {\r\n\t\treturn instance.put(`profile/status/`, { status: status })\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\r\n\tsavePhoto(file) {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append(\"image\", file);\r\n\r\n\t\treturn instance.put(`profile/photo/`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(response => response.data)\r\n\t}\r\n};\r\n\r\nexport const authAPI = {\r\n\tauthMe() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tlogin(email, password, rememberMe) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe })\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t\t\t.then(response => response.data);\r\n\t}\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3B6kM\",\"user__img\":\"User_user__img__2uwJY\",\"user__block\":\"User_user__block__3CHUW\",\"user__follow\":\"User_user__follow__Pksp_\",\"about\":\"User_about__2nlc7\",\"about__inner\":\"User_about__inner__sVFY1\",\"about__country\":\"User_about__country__2mSZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__1gJ1w\",\"page\":\"Paginator_page__2FAO5\",\"selected\":\"Paginator_selected__a1fd-\",\"pag\":\"Paginator_pag__336sz\",\"arrows\":\"Paginator_arrows__2WDWQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__mtRuA\",\"login__header\":\"Login_login__header__1SLoc\",\"login__userpass\":\"Login_login__userpass__3fhPe\",\"login__remember\":\"Login_login__remember__3ncv9\",\"login__btn\":\"Login_login__btn__10EA1\",\"login__input\":\"Login_login__input__15i5X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2xYZa\",\"header__inner\":\"Header_header__inner__2Fvon\",\"header__logo\":\"Header_header__logo__2A3To\",\"header__intro\":\"Header_header__intro__3MZXQ\",\"header__login\":\"Header_header__login__1Wesa\",\"logout\":\"Header_logout__3W9OC\"};","export default __webpack_public_path__ + \"static/media/preloader.36178f9b.svg\";","import React from 'react';\r\nimport preloaderImg from '../../../assets/images/preloader.svg'\r\nimport css from './Preloader.module.css';\r\n\r\nlet Preloader = (props) => {\r\n\treturn <div className={css.preloader}><img src={preloaderImg} alt=\"\" /></div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Forms_formControl__2svQW\",\"error\":\"Forms_error__3cCW6\",\"errorText\":\"Forms_errorText__15otq\"};","export const composeValidators = (...validators) => value =>\r\n\tvalidators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\nexport const required = (value) => {\r\n\tif (value) return undefined;\r\n\r\n\treturn \"Field is required\";\r\n}\r\n\r\nexport const MaxLength = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\treturn undefined;\r\n}","import React from 'react';\r\nimport css from './Forms.module.css'\r\n\r\nexport const Element = Element => ({ input, meta, ...props }) => {\r\n\tconst hasError = meta.touched && meta.error;\r\n\treturn (\r\n\t\t<div className={css.control}>\r\n\t\t\t<div className={css.formControl + \" \" + (hasError ? css.error : \"\")}>\r\n\t\t\t\t<Element {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t<div className={css.errorText + \" \" + (hasError ? css.error : \"\")}>{hasError && <span> {meta.error} </span>}</div>\r\n\t\t</div>\r\n\t);\r\n};","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'SoCial/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'SoCial/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'SoCial/profile/SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SoCial/profile/SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, message: 'Hello!', likesCount: 23 },\r\n\t\t{ id: 2, message: 'Nice to meet you on my profile!', likesCount: 11 },\r\n\t\t{ id: 3, message: 'It`s my first post!', likesCount: 35 },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, {\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\tmessage: action.postData,\r\n\t\t\t\t\tlikesCount: 0,\r\n\t\t\t\t}],\r\n\t\t\t};\r\n\r\n\t\tcase SET_USER_PROFILE:\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile,\r\n\t\t\t};\r\n\r\n\t\tcase SET_STATUS:\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status,\r\n\t\t\t};\r\n\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: { ...state.profile, photos: action.photos },\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n\r\nexport let addPost = (postData) => ({ type: ADD_POST, postData });\r\nexport let setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport let setUserStatus = (status) => ({ type: SET_STATUS, status });\r\nexport let savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport let getUserProfile = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.setSelectedUser(userId);\r\n\r\n\t\tdispatch(setUserProfile(response));\r\n\t}\r\n};\r\n\r\nexport let getUserStatus = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.getStatus(userId);\r\n\r\n\t\tdispatch(setUserStatus(response));\r\n\r\n\t}\r\n};\r\n\r\nexport let updateUserStatus = (status) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.setStatus(status);\r\n\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdispatch(setUserStatus(status));\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nexport let savePhoto = (file) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await profileAPI.savePhoto(file);\r\n\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdebugger;\r\n\t\t\tdispatch(savePhotoSuccess(response.data.photos));\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_MESSAGE_TEXT = 'UPDATE-MESSAGE-TEXT';\r\nconst DELETE_MESSAGE = 'DELETE_MESSAGE';\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: 'Vadim' },\r\n\t\t{ id: 2, name: 'Olia' },\r\n\t\t{ id: 3, name: 'Vlad' },\r\n\t\t{ id: 4, name: 'Maksim' },\r\n\t\t{ id: 5, name: 'Yurii' },\r\n\t\t{ id: 6, name: 'Pasha' },\r\n\t\t{ id: 7, name: 'Yulia' },\r\n\t\t{ id: 8, name: 'Natali' },\r\n\t\t{ id: 9, name: 'Anton' },\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Sorry' },\r\n\t\t{ id: 2, message: 'This page isn`t already done' },\r\n\t\t{ id: 3, message: 'I haven`t a API for it now =[' },\r\n\t],\r\n\tnewMessageText: '',\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet text = action.newMessageText;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, {\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\tmessage: text,\r\n\t\t\t\t}],\r\n\r\n\t\t\t}\r\n\r\n\t\tcase DELETE_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: state.messages.filter(m => m.id !== action.messageId),\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n\r\nexport let sendMessage = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText });\r\nexport let deleteMessage = (messageId) => ({ type: DELETE_MESSAGE, messageId });\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3EMZA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1clvJ\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t}\r\n};\r\n\r\nexport const withRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to='/login' />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n\r\n\treturn ConnectedAuthRedirectComponent;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2zLWK\",\"nav__link\":\"Navbar_nav__link__23STJ\",\"nav__button\":\"Navbar_nav__button__29Ed_\",\"active\":\"Navbar_active__1gGEj\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport css from './Music.module.css';\r\n\r\nconst Music = () => {\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\tMusic\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport css from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\tSettings\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport css from './News.module.css';\r\n\r\nconst News = () => {\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\tNews\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport css from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={css.nav}>\r\n\r\n\t\t\t<NavLink to=\"/news\" className={css.nav__link} activeClassName={css.active}>\r\n\t\t\t\t<div className={css.nav__button}>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\r\n\t\t\t<NavLink to=\"/profile\" className={css.nav__link} activeClassName={css.active}>\r\n\t\t\t\t<div className={css.nav__button}>\r\n\t\t\t\t\tProfile\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\r\n\t\t\t<NavLink to=\"/dialogs\" className={css.nav__link} activeClassName={css.active}>\r\n\t\t\t\t<div className={css.nav__button}>\r\n\t\t\t\t\tMessages\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\r\n\t\t\t<NavLink to=\"/users\" className={css.nav__link} activeClassName={css.active}>\r\n\t\t\t\t<div className={css.nav__button}>\r\n\t\t\t\t\tUsers\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\r\n\t\t\t<NavLink to=\"/music\" className={css.nav__link} activeClassName={css.active}>\r\n\t\t\t\t<div className={css.nav__button}>\r\n\t\t\t\t\tMusic\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\r\n\t\t\t<NavLink to=\"/settings\" className={css.nav__link} activeClassName={css.active}>\r\n\t\t\t\t<div className={css.nav__button}>\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t</nav >\r\n\t);\r\n}\r\n\r\nexport default Navbar;","\r\n\r\nexport const updateObjInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps }\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjInArray } from \"../utilites/action-helpers\";\r\n\r\nconst FOLLOW = 'SoCial/users/FOLLOW';\r\nconst UNFOLLOW = 'SoCial/users/UNFOLLOW';\r\nconst SET_USERS = 'SoCial/users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SoCial/users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SoCial/users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'SoCial/users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_USER = 'SoCial/users/TOGGLE_IS_FOLLOWING_USER';\r\n\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\ttotalItemsCount: 0,\r\n\tpageSize: 3,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingUsers: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjInArray(state.users, action.userId, \"id\", { followed: true }),\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjInArray(state.users, action.userId, \"id\", { followed: false }),\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users }\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.page }\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn { ...state, totalItemsCount: action.totalCount }\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\tcase TOGGLE_IS_FOLLOWING_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingUsers: action.isFetching\r\n\t\t\t\t\t? [...state.followingUsers, action.userId]\r\n\t\t\t\t\t: state.followingUsers.filter(id => id !== action.userId),\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n\r\nexport let follow = (userId) => ({ type: FOLLOW, userId });\r\nexport let unfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport let setUsers = (users) => ({ type: SET_USERS, users });\r\nexport let setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, page });\r\nexport let setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount });\r\nexport let toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport let toggleFollowingUser = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_USER, isFetching, userId });\r\n\r\nexport let getAllUsers = (currentPage = 1, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(setCurrentPage(currentPage));\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tlet response = await usersAPI.getUsers(currentPage, pageSize);\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(response.items));\r\n\t\tdispatch(setTotalUsersCount(response.totalCount));\r\n\r\n\t}\r\n};\r\n\r\nconst toggleFollowUnfollow = async (dispatch, userId, actionCreator, apiMethod) => {\r\n\tdispatch(toggleFollowingUser(true, userId));\r\n\tlet response = await apiMethod(userId);\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingUser(false, userId));\r\n}\r\n\r\nexport let userFollowed = (userId) => {\r\n\treturn async (dispatch) => {\r\n\r\n\t\ttoggleFollowUnfollow(dispatch, userId, follow, usersAPI.userFollow.bind(userId))\r\n\r\n\t}\r\n};\r\n\r\nexport let userUnfollowed = (userId) => {\r\n\treturn async (dispatch) => {\r\n\r\n\t\ttoggleFollowUnfollow(dispatch, userId, unfollow, usersAPI.userUnFollow.bind(userId))\r\n\t}\r\n};\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/Logo_4.3233213a.png\";","import React from 'react';\r\nimport css from './User.module.css'\r\nimport defaultPhoto from '../../../logos/Logo_4.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet User = ({ users, follow, unfollow, followingUsers }) => {\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t<div className={css.user}>\r\n\t\t\t\t<div className={css.user__photo}>\r\n\t\t\t\t\t<NavLink to={'/profile/' + users.id}>\r\n\t\t\t\t\t\t<img src={users.photos.small !== null ? users.photos.small : defaultPhoto} alt=\"\" className={css.user__img} />\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css.user__block}>\r\n\t\t\t\t\t<div className={css.about}>\r\n\t\t\t\t\t\t<div className={css.about__inner}>\r\n\t\t\t\t\t\t\t<div className={css.about__name}>{users.name}</div>\r\n\t\t\t\t\t\t\t<div className={css.about__status}>{users.status}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={css.about__location}>\r\n\t\t\t\t\t\t\t<div className={css.about__city}>\r\n\t\t\t\t\t\t\t\t{\"props.location.cityName\"},\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={css.about__country}>{\"props.location.country\"}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={css.user__follow}>\r\n\t\t\t\t\t\t{users.followed\r\n\t\t\t\t\t\t\t? <button disabled={followingUsers.some(id => id === users.id)} onClick={() => { unfollow(users.id) }}>Unfollow</button>\r\n\t\t\t\t\t\t\t: <button disabled={followingUsers.some(id => id === users.id)} onClick={() => { follow(users.id) }}>Follow</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default User;","export default __webpack_public_path__ + \"static/media/leftarrow.136e7ad0.svg\";","export default __webpack_public_path__ + \"static/media/rightarrow1.5c5382bc.svg\";","import React, { useState } from 'react';\r\nimport css from './Paginator.module.css'\r\nimport leftArrow from '../../../assets/images/leftarrow.svg';\r\nimport rightArrow from '../../../assets/images/rightarrow1.svg';\r\n\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 5 }) => {\r\n\r\n\tlet pageCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n\tlet totalPages = [];\r\n\r\n\tfor (let i = 1; i <= pageCount; i++) {\r\n\t\ttotalPages.push(i);\r\n\t}\r\n\r\n\tconst portionCount = Math.ceil(pageCount / portionSize);\r\n\tconst [portionNumber, setPortionNumber] = useState(Math.ceil(currentPage / portionSize));\r\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tconst rightPortionPageNumber = portionNumber * portionSize;\r\n\tconsole.log(portionNumber)\r\n\treturn (\r\n\t\t<div className={css.pagination}>\r\n\r\n\t\t\t{\r\n\t\t\t\tportionNumber > 1 &&\r\n\t\t\t\t<button className={css.pag} onClick={() => { setPortionNumber(portionNumber - 1) }}><img src={leftArrow} className={css.arrows} /></button>\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\ttotalPages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t.map(p => {\r\n\t\t\t\t\t\treturn (<span key={p} className={currentPage === p ? css.selected + ' ' + css.page : css.page}\r\n\t\t\t\t\t\t\tonClick={() => { onPageChanged(p, portionNumber) }} > {p} </span>)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tportionCount > portionNumber &&\r\n\t\t\t\t<button className={css.pag} onClick={() => { setPortionNumber(portionNumber + 1); console.log(portionNumber) }}>\r\n\t\t\t\t\t<img src={rightArrow} className={css.arrows} /></button>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport css from './Users.module.css'\r\nimport User from './User/User';\r\nimport Paginator from './Paginator/Paginator';\r\n\r\n\r\nlet Users = ({ totalItemsCount, pageSize, currentPage, onPageChanged, users, follow, unfollow, followingUsers, currentPortion }) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={css.users}>\r\n\t\t\t\t{\r\n\t\t\t\t\tusers.map(u => <User key={u.id}\r\n\t\t\t\t\t\tusers={u}\r\n\t\t\t\t\t\tfollow={follow}\r\n\t\t\t\t\t\tunfollow={unfollow}\r\n\t\t\t\t\t\tfollowingUsers={followingUsers} />)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<Paginator totalItemsCount={totalItemsCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} />\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n};\r\n\r\n/* export const getUsersSelector = createSelector(getUsersSelector, (users) => {\r\n\treturn users.filter( u => true);\r\n}); */\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n};\r\n\r\nexport const getTotalItemsCount = (state) => {\r\n\treturn state.usersPage.totalItemsCount;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingUsers = (state) => {\r\n\treturn state.usersPage.followingUsers;\r\n};\r\n\r\n","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setUsers, unfollow, setTotalUsersCount, getAllUsers, userFollowed, userUnfollowed } from \"../../Redux/users-reducer\";\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getCurrentPage, getFollowingUsers, getIsFetching, getPageSize, getTotalItemsCount, getUsers, } from '../../Redux/users-selectors';\r\n\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { currentPage, pageSize } = this.props;\r\n\r\n\t\tthis.props.getAllUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber, portionNumber) => {\r\n\t\tconst { pageSize } = this.props;\r\n\r\n\t\tthis.props.getAllUsers(pageNumber, pageSize, portionNumber);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.props.isFetching ? <Preloader /> : <Users\r\n\t\t\t\t\tusers={this.props.users}\r\n\t\t\t\t\ttotalItemsCount={this.props.totalItemsCount}\r\n\t\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\t\tfollow={this.props.userFollowed}\r\n\t\t\t\t\tunfollow={this.props.userUnfollowed}\r\n\t\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\t\tfollowingUsers={this.props.followingUsers} />}\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n/* let mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: state.usersPage.users,\r\n\t\tcurrentPage: state.usersPage.currentPage,\r\n\t\ttotalUsersCount: state.usersPage.totalUsersCount,\r\n\t\tpageSize: state.usersPage.pageSize,\r\n\t\tisFetching: state.usersPage.isFetching,\r\n\t\tfollowingUsers: state.usersPage.followingUsers,\r\n\t}\r\n} */\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\ttotalItemsCount: getTotalItemsCount(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingUsers: getFollowingUsers(state),\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tfollow,\r\n\t\tunfollow,\r\n\t\tsetUsers,\r\n\t\tsetTotalUsersCount,\r\n\t\tgetAllUsers,\r\n\t\tuserFollowed,\r\n\t\tuserUnfollowed,\r\n\t}),\r\n\t//withRedirect\r\n)(UsersAPIComponent);","import { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_AUTH = 'SoCial/auth/SET_USER_AUTH';\r\nconst ERROR = 'ERROR';\r\n\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\terrorMessage: '',\r\n\tfailedAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_AUTH:\r\n\t\t\treturn { ...state, ...action.data }\r\n\t\tcase ERROR:\r\n\t\t\treturn { ...state, errorMessage: action.message, failedAuth: action.failedAuth }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n\r\nexport let setUserAuth = (id, email, login, isAuth) => ({ type: SET_USER_AUTH, data: { id, email, login, isAuth } });\r\nexport let errors = (failedAuth, message) => ({ type: ERROR, failedAuth: failedAuth, message: message });\r\n\r\nexport let authUser = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.authMe();\r\n\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tlet { id, login, email } = response.data;\r\n\t\t\tdispatch(setUserAuth(id, email, login, true));\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nexport let login = (email, password, rememberMe = false) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.login(email, password, rememberMe);\r\n\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdispatch(authUser());\r\n\t\t} else {\r\n\t\t\tdispatch(errors(true, response.messages[0]));\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nexport let logout = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.logout();\r\n\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdispatch(setUserAuth(null, null, null, false));\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Logo from './../../logos/Logo_4.png'\r\nimport css from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n\r\n\treturn (\r\n\t\t<header className={css.header}>\r\n\r\n\t\t\t<div className={css.header__inner}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tclassName={css.header__logo} />\r\n\r\n\t\t\t\t<div className={css.header__intro}>\r\n\t\t\t\t\tSo...Cial\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={css.header__login}>\r\n\t\t\t\t{props.isAuth ?\r\n\t\t\t\t\t<div><p>{props.login}</p> <button className={css.logout} onClick={props.logout}>Logout</button> </div>\r\n\t\t\t\t\t: <NavLink to={'/login'}>Login</NavLink>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../Redux/auth-reducer';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (<Header {...this.props} />)\r\n\t}\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login,\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { login } from '../../Redux/auth-reducer';\r\nimport { composeValidators, required } from '../../utilites/validators/validators';\r\nimport { Element } from '../common/Forms/Forms';\r\nimport css from './Login.module.css';\r\n\r\nlet LoginForm = ({ onSubmit, failedAuth, errorMessage }) => {\r\n\tconst Input = Element('input');\r\n\treturn (\r\n\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t{({ handleSubmit, submitting, pristine }) => (\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className=\"login-page__login\">\r\n\t\t\t\t\t\t<Field className={css.login__userlogin + ' ' + css.login__input} name={\"login\"} component={Input} placeholder={\"Login\"} validate={composeValidators(required,)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"login-page__password\">\r\n\t\t\t\t\t\t<Field className={css.login__userpass + ' ' + css.login__input} type={\"password\"} name={\"password\"} component={Input} placeholder={\"Password\"} validate={composeValidators(required,)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"login-page__remember\">\r\n\t\t\t\t\t\t<Field className={css.login__remember} name={\"rememberMe\"} component={\"input\"} type={\"checkbox\"} />Remember me\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{failedAuth && <span>{errorMessage}</span>}\r\n\t\t\t\t\t<div className=\"login-page__button\">\r\n\t\t\t\t\t\t<button className={css.login__btn} type='submit' disabled={submitting || pristine}>Login</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t</Form>\r\n\t);\r\n}\r\n\r\nlet Login = (props) => {\r\n\r\n\tlet onSubmit = async (formData) => {\r\n\t\tprops.login(formData.login, formData.password, formData.rememberMe);\r\n\t\tformData.login = formData.password = formData.rememberMe = undefined;\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={css.login}>\r\n\t\t\t<div className={css.login__header}>Login</div>\r\n\t\t\t<LoginForm onSubmit={onSubmit} errorMessage={props.errorMessage} failedAuth={props.failedAuth} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\terrorMessage: state.auth.errorMessage,\r\n\t\tfailedAuth: state.auth.failedAuth\r\n\t}\r\n}\r\n\r\nlet LoginContainer = connect(mapStateToProps, { login })(Login);\r\n\r\nexport default LoginContainer;","import { authUser } from \"./auth-reducer\";\r\n\r\nconst INITIALIZE_SUCCESS = 'INITIALIZE_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZE_SUCCESS:\r\n\t\t\treturn { ...state, initialized: true }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n\r\nexport let initializeSucces = () => ({ type: INITIALIZE_SUCCESS });\r\n\r\nexport let initializeApp = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(authUser());\r\n\r\n\t\tPromise.all([promise])\r\n\t\t\t.then(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tdispatch(initializeSucces());\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n\treturn (props) => {\r\n\t\treturn <React.Suspense fallback={<Preloader />}><Component {...props} /></React.Suspense>\r\n\t}\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport News from './components/News/News';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { BrowserRouter, HashRouter, Route, withRouter } from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginContainer from './components/Login/Login';\r\nimport { compose } from 'redux';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './Redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './Redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n\r\n        return (\r\n            <div className=\"wrapper\">\r\n\r\n                <HeaderContainer />\r\n\r\n                <Navbar />\r\n                <div className=\"wrapper__content\">\r\n                    <Route path='/news' component={News} />\r\n                    <Route path='/profile/:userId?'\r\n                        render={withSuspense(ProfileContainer)} />\r\n                    <Route path='/dialogs'\r\n                        render={withSuspense(DialogsContainer)} />\r\n                    <Route path='/users'\r\n                        render={() =>\r\n                            <UsersContainer />} />\r\n                    <Route path='/login' render={() => <LoginContainer />} />\r\n                    <Route path='/music' component={Music} />\r\n                    <Route path='/settings' component={Settings} />\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n});\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, { initializeApp }))(App);\r\n\r\nlet AppComponent = (props) => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n\r\n                <AppContainer />\r\n\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n};\r\n\r\nexport default AppComponent;\r\n","import reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport AppComponent from './App';\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n\r\n\t<AppComponent />\r\n\t,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}